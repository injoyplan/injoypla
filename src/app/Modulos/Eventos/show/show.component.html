<app-header></app-header>
<div class="container ISDesktop" >
  <header class="header-blog">
    <div class="header-blog__s" style="width: 83%;">
      <h1 class="header-blog__title color-secondary">
       {{evento.titulo}}
      </h1>
      <p class="header-blog__desc">
        <span>
          <span class="fwb">   {{fecha.FechaInicio | FormatDateTime}} </span>
          <span >({{fecha.FechaInicio | formatdaterestadiapipe}})</span>

        </span>
      <!-- <span>
          <i class="fa fa-user"></i>
          Visto 0 <span class="fwb">veces</span> las
          últimas 24 horas
        </span>-->
      </p>
    </div>
    <div class="header-blog__e">
      <span>
        <button type="reset"  class="buttonCopiarFavoritos"
          (click)="copiarAlPortapapeles(fecha._id,evento._id)"
          style=" background-color: transparent;   border: none;">
          <i class="fa fa-share-alt"></i>
          Copiar
        </button>
      </span>

      <span  class="buttonCopiarFavoritos" >
        <button type="reset"  class="buttonCopiarFavoritos"
          (click)="guardarFavoritos(fecha._id,evento._id)"
          style=" background-color: transparent;   border: none;">
          <i class="cxi-heart" style="cursor: pointer;"></i>
          Favorito
        </button>

        <button type="reset" class="buttonCopiarFavoritos"
          (click)="EliminarFavoritos(fecha.favoritos)"
          style=" background-color: transparent;   border: none;">
          <i class="cxi-heart-filled" style="cursor: pointer;"></i>
          Favorito
        </button>
      </span>
    </div>
  </header>
  <section class="blog">
    <div class="blog__s">
      <!-- Thumbnail -->
      <div>

        <div class="thumbnail">
          <img [ngSrc]="evento.Imagenes[0].url" width="4000"         height="3000"  style="width: 100%;" alt="Título de la imagen"   />
          <!--<div class="thumbnail-badge-online t-uppercase">
          Online
        </div>-->
        </div>

        <a
          [href]="evento.urlFuente"
          style="
            font-family: Open Sans;
            font-style: normal;
            font-weight: bold;
            font-size: 10px;
            line-height: 16px;
            display: flex;
            align-items: center;
            text-transform: uppercase;
            color: #a3abcc;
          "
          target="_blank"
          class="t-uppercase color-gray"
        >
          Ver fuente
          <i class="fa fa-angle-right"></i>
        </a>
      </div>
      <!-- End Thumbnail -->

      <!--<div class="info-bar clear-container">
      <i class="fa fa-user"></i>
      Visto <strong>10 veces</strong> las últimas 24 horas
    </div>-->

      <!-- Blog content
      <article class="blog__content blog__content--bb">
        <h2>Lo que se sabe del evento</h2>
        <p v-html="eventos.descripcionEvento"></p>
        <h2 v-if="eventos.hayInformacionAdic == 1">
          Información adicional
        </h2>
        <h3 v-if="eventos.hayInformacionAdic == 1" class="t-uppercase">
          Importante:
        </h3>
        <p v-if="eventos.hayInformacionAdic == 1">
          {{ eventos.informacionAdicional }}
        </p>
      </article>-->
      <article

        class="blog__content blog__content--bb"
      >
        <h2>Lugar del evento</h2>
        <h3>{{evento.NombreLocal}}</h3>
        <div [innerHTML]="evento.descripcionEvento"></div>


      </article>

    </div>
    <aside class="blog__e">
      <div class="card-event">
        <div>
          <h3 class="subTitulosShowEventos">Fecha y hora</h3>
          <p>
            {{ (fecha.FechaInicio ) | FormatDateTime}}  · {{fecha.HoraInicio}} - {{fecha.HoraFin}}
          </p>
        </div>
        <div style="display: flex; flex-direction: row; justify-content: flex-start; align-items: center; flex-wrap: wrap;">
          <h3 class="subTitulosShowEventos">Otras fechas disponibles</h3>

          <div style="display: flex;">
            <div class="date-square" style="margin-right: 10px;" *ngFor="let eventoFecha of ModelfechaEvento let indice = index"  >

              <ng-container *ngIf="indice<=4" >
                <div (click)="buscarfecha(eventoFecha)" class="date-square__item t-uppercase"  style="cursor: pointer;">
                {{ (eventoFecha.FechaInicio ) | FormatDateTimeShor}}<br />
                </div>
              </ng-container>


            </div>
          </div>
          <br>
          <div *ngIf="ModelfechaEvento.length>=5"
            data-toggle="modal"  data-target="#exampleModal"
            style="
              color: #bc0000;
              font-weight: 600;
              letter-spacing: 0.6px;
              text-transform: uppercase;    cursor: pointer;
            "
            class="t-uppercase card-event__more" >

            Ver Todas
          </div>
        </div>


        <div>
          <h3 class="subTitulosShowEventos">Lugar del evento</h3>
          <p> {{LugarEvento}} </p>
          <div
            style="
              color: #bc0000;
              font-weight: 600;
              letter-spacing: 0.6px;
              text-transform: uppercase;    cursor: pointer;
            "
            class="t-uppercase card-event__more"
            data-bs-toggle="modal" data-bs-target="#mapaModal"
          >
            Ver en el Mapa
          </div>

        </div>
        <ng-container *ngIf="evento.tipoEntrada==1">
          <div>

            <h3 style="    font-family: 'Quicksand';"> Entradas desde</h3>

            <p class="t-big">
              {{ModelfechaEvento[0].precioxfechas[0].Precio | formatMoney }}
            </p>
          </div>
          <div>
            <h3>Consigue tus entradas aquí</h3>

            <div  *ngFor="let entradas of lista_plataformas; let indice = index"  >

              <a
              target = "_blank"

              [href]="'https://' + entradas.urlWebLugar"
              class="btn btn--primary btn--block"
            >
            <span style="display: inline-flex;display: inline-flex;
            flex-direction: row;
            align-items: flex-start;
            justify-content: space-evenly;
            align-content: stretch;" >

              <img [src]="entradas.plataforma.iconos" width="20"  style="margin-right: 7px; margin-top: 2px;"/>
              <h3 style="color: white; width: 134%">
                {{entradas.nombrePlataformaVenta}}
              </h3>
            </span>
            </a>

            </div>
          </div>
        </ng-container>
        <ng-container *ngIf="evento.tipoEntrada==2">

        </ng-container>
      </div>
    </aside>
  </section>
</div>
<div class="container ISMobil" >
  <header class="header-blog">
    <div class="header-blog__s" style="width: 80%;">
      <h1 class="header-blog__title color-secondary">
        {{evento.titulo}}
      </h1>
      <span class="TiempoEspera">   {{fecha.FechaInicio | FormatDateTime}}</span>   <span class="TiempoEspera"> ({{fecha.FechaInicio | formatdaterestadiapipe}})</span>

    </div>
  </header>

  <section class="blog">
    <div class="blog__s">
      <!-- Thumbnail -->
      <div>
        <div class="thumbnail">
          <img [src]="evento.Imagenes[0].url" alt="Título de la imagen" />
          <!--<div class="thumbnail-badge-online t-uppercase">
          Online
        </div>-->
        </div>
        <a   [href]="'https://' + evento.urlFuente"

          style="
            font-family: Open Sans;
            font-style: normal;
            font-weight: bold;
            font-size: 10px;
            line-height: 16px;
            display: flex;
            align-items: center;
            text-transform: uppercase;

            color: #a3abcc;
          "
          target="_blank"
          class="t-uppercase color-gray"
        >
          Ver fuente
          <i class="fa fa-angle-right"></i>
        </a>
      </div>
      <!-- End Thumbnail -->
      <div class="clear-container card-event">
        <div>
          <h3 class="subTitulosShowEventos">Fecha y hora</h3>
          <p>
            {{ (fecha.FechaInicio ) | FormatDateTime}}  · {{fecha.HoraInicio}} - {{fecha.HoraFin}}
          </p>
        </div>
        <div style="display: flex; flex-direction: row; justify-content: flex-start; align-items: center; flex-wrap: wrap;">

          <h3 class="subTitulosShowEventos">Otras fechas disponibles</h3>

          <div style="display: flex;">
            <div class="date-square" style="margin-right: 10px;" *ngFor="let EventoFecha of ModelfechaEvento let indice = index"  >

              <ng-container *ngIf="indice<=4" >
                <div (click)="buscarfecha(EventoFecha)" class="date-square__item t-uppercase"  style="cursor: pointer;">
                {{ (EventoFecha.FechaInicio ) | FormatDateTimeShor}}<br />
                </div>
              </ng-container>


            </div>
          </div>
          <br>
          <div *ngIf="ListFecha.length>=5"
            data-toggle="modal" data-target="#exampleModal"
            style="
              color: #bc0000;
              font-weight: 600;
              letter-spacing: 0.6px;
              text-transform: uppercase;    cursor: pointer;
            "
            class="t-uppercase card-event__more" >

            Ver Todas
          </div>
        </div>

        <div>
          <h3 class="subTitulosShowEventos">Lugar del evento</h3>
          <p> {{LugarEvento}} </p>
          <div
            style="
              color: #bc0000;
              font-weight: 600;
              letter-spacing: 0.6px;
              text-transform: uppercase;    cursor: pointer;
            "
            class="t-uppercase card-event__more"
            data-bs-toggle="modal" data-bs-target="#mapaDeUbicacion"
          >
            Ver en el Mapa
          </div>

        </div>
        <div>

          <h3 class="subTitulosShowEventos"> Entradas desde</h3>

          <p class="t-big">
            {{ModelfechaEvento[0].precioxfechas[0].Precio | formatMoney }}
          </p>
        </div>
        <div>
          <h3 class="subTitulosShowEventos">Consigue tus entradas aquí</h3>
          <div  *ngFor="let entradas of lista_plataformas; let indice = index"  >
            <a
            target = "_blank"
            [href]="'https://' + entradas.urlWebLugar"
            class="btn btn--primary btn--block"
          >
          <span style="display: inline-flex;display: inline-flex;
          flex-direction: row;
          align-items: flex-start;
          justify-content: space-evenly;
          align-content: stretch;" >
            <img [src]="entradas.PlataformaVenta" width="20"  style="margin-right: 7px; margin-top: 2px;"/>

            <h3 style="color: white; width: 134%">
              {{entradas.NombrePlataforma}}
            </h3>
          </span>
          </a>

          </div>
        </div>
      </div>
      <!-- Blog content
      <article class="blog__content blog__content--bb">
        <h2>Lo que se sabe del evento</h2>
        <p v-html="eventos.descripcionEvento"></p>
        <h2 v-if="eventos.hayInformacionAdic == 1">
          Información adicional
        </h2>
        <h3 v-if="eventos.hayInformacionAdic == 1" class="t-uppercase">
          Importante:
        </h3>
        <p v-if="eventos.hayInformacionAdic == 1">
          {{ eventos.informacionAdicional }}
        </p>
      </article> -->
      <article

        class="blog__content blog__content--bb"
      >
        <h2>Lugar del evento</h2>
        <h3>{{evento.NombreLocal}}</h3>
        <div [innerHTML]="evento.descripcionEvento"></div>


      </article>
    </div>
  </section>

</div>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content ISDesktopModal"  >
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Calendario del evento</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="table-responsive">
          <table class="table table-hover">
            <thead>
              <tr>
                <th>Fecha y hora</th>
                <th>Precio desde</th>
                <th style="text-align: center; vertical-align: middle;">Modo</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let Fecha of ListFecha let indice = index">
                <td style="padding-bottom: 1.9rem;">
                  <span style="font-family: 'Open Sans'; font-style: normal; font-weight: 700;font-size: 12px;line-height: 20px;display: flex; align-items: center; color: #212121;"> {{Fecha.FechaInicio | FormatDateTime }}</span>

                  <span style="position: absolute;font-family: 'Open Sans'; font-style: normal; font-weight: 400;font-size: 12px;line-height: 20px;display: flex; align-items: center; color: #4A4A4A;"> {{evento.fecha[0].HoraInicio}} - {{evento.fecha[0].HoraFin}}</span>

                </td>
                <td *ngIf="Fecha.precioxfechas[0].Precio==0">¡Gratis!</td>
                <td *ngIf="Fecha.precioxfechas[0].Precio!=0">{{Fecha.precioxfechas[0].Precio | formatMoney}}</td>
                <td style="text-align: center; vertical-align: middle;">Presencial</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="mapaModal" tabindex="-1" role="dialog" aria-labelledby="mapaDeUbicacion" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="height:auto;border-radius: 4px;">
      <div class="modal-header">
        <h5 class="modal-title" id="mapaDeUbicacion">Mapa de Ubicacion</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="table-responsive">
          <google-map height="500px"    [center]="center"       width="auto"  >
            <map-marker *ngFor="let markerPosition of markerPositions"
            [position]="markerPosition"
            ></map-marker>
          </google-map>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
