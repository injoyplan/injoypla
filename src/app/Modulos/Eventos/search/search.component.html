<app-header></app-header>
<section class="container pt-3 pb-5 pb-md-6 mb-2 mb-lg-0 mt-5">
  <!-- Toolbar + pagination -->
  <div class="row mb-4 pb-2">

      <div class="col-md-3 pr-lg-4 mb-3 mb-md-0" style="    width: 100%;    ">
        <!-- Show / hide filters on Desktop -->
        <div class="row">
          <div class="col-md-3 d-none d-lg-block">
            <h3 style="font-size: 20px;"><i class="cxi-filter-1"></i> Filtros:</h3>
          </div>
          <div class="col-md-9 d-none d-lg-block" >
            <h3 style="float: left;font-family: 'Open Sans';
            font-style: normal;
            font-weight: 400;
            font-size: 16px;
            line-height: 24px;
            color: #212121;"> {{eventos.length}} resultados</h3>
          </div>
        <!--  <div class="col-md-6 d-none d-lg-block" >
            <h3 style="float: right;font-size: 20px;"><i class="fa fa-map mt-n1 align-middle" style="margin-right: 3px;" aria-hidden="true"></i> ver mapa</h3>
          </div> -->
        </div>
        <div class="row d-lg-none">
          <h3 style="float: left;font-family: 'Open Sans';
          font-style: normal;
          font-weight: 400;
          font-size: 16px;
          line-height: 24px;width: 50%;
          color: #212121;" class=""> {{eventos.length}} resultados</h3>
        <a
        (click)="abrirModal()"
        class="d-lg-none " style="width: 50%;
        text-align: right;
        font-family: 'Open Sans';
        font-style: normal;
        text-decoration: none;
        font-weight: 600;
        font-size: 16px;
        line-height: 16px;"
      >  FILTROS <i class="cxi-filter-2 mr-1"></i></a>


        </div>
        <!-- Show / hide filters (off-canvas) on Mobile -->

      </div>


    <div class="col-md-9">
      <div class="d-flex align-items-right">
        <div class="form-inline flex-nowrap d-none d-sm-flex mr-3 mr-xl-5">
          <!--<ngb-pagination *ngIf="eventos.length >= 1" style="margin-top: 15px;" [(page)]="page" [pageSize]="pageSize"
            [maxSize]="12" aria-label="Default pagination" [rotate]="true" [boundaryLinks]="true"
            [collectionSize]="eventos.length"></ngb-pagination>-->
        </div>
      </div>
    </div>
  </div>

  <div class="row flex-lg-nowrap">
    <!-- Filters (sidebar) -->
    <div id="filtersSidebar" class="col-lg-3 pr-lg-4">
      <div id="filtersOffcanvas" class="cs-offcanvas cs-offcanvas-collapse ">
        <div class="cs-offcanvas-cap align-items-center border-bottom mb-3">
          <h2 class="h5 mb-0">Eventos Filtros</h2>
          <button type="button" class="btn btn-danger btn-icon" (click)="CerrarModal()" data-dismiss="offcanvas"
            aria-label="Close">
            <i class="fa fa-map mt-n1 align-middle" aria-hidden="true"></i>

          </button>

        </div>
        <div class="cs-offcanvas-body accordion-alt pb-4">

          <!-- Modo -->
          <div class="card border-bottom">
            <div class="card-header pt-0" id="Modo-panel">
              <h6 class="accordion-heading">
                <a href="#Modo" role="button" data-toggle="collapse" aria-expanded="true" aria-controls="Modo">
                  Eventos
                  <span class="accordion-indicator"></span>
                </a>
              </h6>
            </div>
            <div class="collapse show" id="Modo" aria-labelledby="Modo-panel">
              <div class="cs-widget-data-list cs-filter">
                <div class="accordion-collapse collapse show" id="sidebarAccordionCollapse-1"
                  aria-labelledby="sidebarAccordionHeading-1" data-bs-parent="#sidebarAccordion">
                  <div class="accordion-body pt-0">
                    <div class="widget-data-list filter">
                      <div class="position-relative mb-3">
                        <i class="ci-search fs-sm position-absolute top-50 end-0 translate-middle-y me-3 zindex-5"></i>
                      </div>
                      <ul class="filter-list list-unstyled pe-3" style="height: 6rem;" data-simplebar="init"
                        data-simplebar-auto-hide="false">
                        <div class="simplebar-wrapper" style="margin: 0px -16px 0px 0px;">
                          <div class="simplebar-height-auto-observer-wrapper">
                            <div class="simplebar-height-auto-observer"></div>
                          </div>
                          <div class="simplebar-mask">
                            <div class="simplebar-offset" style="right: 0px; bottom: 0px;">
                              <div class="simplebar-content-wrapper" tabindex="0" role="region" aria-label="content">
                                <div class="simplebar-content" style="padding: 0px 16px 0px 6px;">
                                  <li class="filter-item">
                                    <div class="form-check">
                                      <input type="radio" (change)="Filtro_eventos(1)"
                                         name="groupModo"
                                        class="form-check-input" id="groupModo-0" value="0"
                                        [(ngModel)]="filter_modo_eventos">
                                      <label for="groupModo-0" class="form-check-label">
                                        <span class="filter-item-text">Todos</span>
                                      </label>
                                    </div>
                                  </li>
                                  <li class="filter-item">
                                    <div class="form-check">
                                      <input type="radio" (change)="Filtro_eventos(1)"
                                         name="groupModo"
                                        class="form-check-input" id="groupModo-1" value="1"
                                        [(ngModel)]="filter_modo_eventos">
                                      <label for="groupModo-1" class="form-check-label">
                                        <span class="filter-item-text">Con Pago</span>
                                      </label>
                                    </div>
                                  </li>
                                  <li class="filter-item">
                                    <div class="form-check">
                                      <input type="radio" (change)="Filtro_eventos(1)"
                                         name="groupModo"
                                        class="form-check-input" id="groupModo-2" value="2"
                                        [(ngModel)]="filter_modo_eventos">
                                      <label for="groupModo-2" class="form-check-label">
                                        <span class="filter-item-text">Gratuito</span>
                                      </label>
                                    </div>
                                  </li>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="simplebar-placeholder" style="width: auto; height: 512px;"></div>
                        </div>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Categoria -->
          <div class="card border-bottom">
            <div class="card-header pt-0" id="category-panel">
              <h6 class="accordion-heading">
                <a href="#category" role="button" data-toggle="collapse" aria-expanded="true" aria-controls="category">
                  Categoria
                  <span class="accordion-indicator"></span>
                </a>
              </h6>
            </div>
            <div class="collapse show" id="category" aria-labelledby="category-panel">
              <div class="cs-widget-data-list cs-filter">

                <div class="accordion-collapse collapse show" id="sidebarAccordionCollapse-1"
                  aria-labelledby="sidebarAccordionHeading-1" data-bs-parent="#sidebarAccordion">
                  <div class="accordion-body pt-0">
                    <div class="widget-data-list filter">
                      <div class="position-relative mb-3">
                        <i class="ci-search fs-sm position-absolute top-50 end-0 translate-middle-y me-3 zindex-5"></i>
                      </div>
                      <ul class="filter-list list-unstyled pe-3" style="height: 11rem;" data-simplebar="init"
                        data-simplebar-auto-hide="false">
                        <div class="simplebar-wrapper" style="margin: 0px -16px 0px 0px;">
                          <div class="simplebar-height-auto-observer-wrapper">
                            <div class="simplebar-height-auto-observer"></div>
                          </div>
                          <div class="simplebar-mask">
                            <div class="simplebar-offset" style="right: 0px; bottom: 0px;">
                              <div class="simplebar-content-wrapper" tabindex="0" role="region" aria-label="content">
                                <div class="simplebar-content" style="padding: 0px 16px 0px 6px;">
                                  <li class="filter-item">
                                    <div class="form-check">
                                      <input type="radio" (change)="Filtro_eventos(2)"
                                       name="groupCategoria"
                                        class="form-check-input" id="groupCategoria-0" value="0"
                                        [(ngModel)]="filter_modo_categoria">
                                      <label for="groupCategoria-2" class="form-check-label">
                                        <span class="filter-item-text">Todos</span>
                                      </label>
                                    </div>
                                  </li>
                                  <li class="filter-item">
                                    <div class="form-check">
                                      <input type="radio" (change)="Filtro_eventos(2)" class="form-check-input"
                                         name="groupCategoria"
                                        id="groupCategoria-630832a4c6ae463861cdd0a0" value="630832a4c6ae463861cdd0a0"
                                        [(ngModel)]="filter_modo_categoria">
                                      <label for="groupCategoria-630832a4c6ae463861cdd0a0" class="form-check-label">
                                        <span class="filter-item-text">Musica</span>
                                      </label>
                                    </div>
                                  </li>
                                  <li class="filter-item">
                                    <div class="form-check">
                                      <input type="radio" (change)="Filtro_eventos(2)" class="form-check-input"
                                         name="groupCategoria"
                                        id="groupCategoria-63083349c6ae463861cdd0a2" value="63083349c6ae463861cdd0a2"
                                        [(ngModel)]="filter_modo_categoria">
                                      <label for="groupCategoria-63083349c6ae463861cdd0a2" class="form-check-label">
                                        <span class="filter-item-text">Cultura</span>
                                      </label>
                                    </div>
                                  </li>
                                  <li class="filter-item">
                                    <div class="form-check">
                                      <input type="radio" (change)="Filtro_eventos(2)" class="form-check-input"
                                        name="groupCategoria"
                                        id="groupCategoria-63083352c6ae463861cdd0a3" value="63083352c6ae463861cdd0a3"
                                        [(ngModel)]="filter_modo_categoria">
                                      <label for="groupCategoria-63083352c6ae463861cdd0a3" class="form-check-label">
                                        <span class="filter-item-text">Teatro</span>
                                      </label>
                                    </div>
                                  </li>
                                  <li class="filter-item">
                                    <div class="form-check">
                                      <input type="radio" (change)="Filtro_eventos(2)" class="form-check-input"
                                         name="groupCategoria"
                                        id="groupCategoria-630832bac6ae463861cdd0a1" value="630832bac6ae463861cdd0a1"
                                        [(ngModel)]="filter_modo_categoria">
                                      <label for="groupCategoria-630832bac6ae463861cdd0a1" class="form-check-label">
                                        <span class="filter-item-text">Entretenimiento</span>
                                      </label>
                                    </div>
                                  </li>
                                </div>
                              </div>
                            </div>

                          </div>
                          <div class="simplebar-placeholder" style="width: auto; height: 512px;"></div>
                        </div>

                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Fecha -->
          <div class="card border-bottom">
            <div class="card-header pt-0 pb-3" id="Fecha-panel">
              <h6 class="accordion-heading">
                <a href="#Fecha" role="button" data-toggle="collapse" aria-expanded="true" aria-controls="Fecha">
                  Fecha desde
                  <span class="accordion-indicator"></span>
                </a>
              </h6>
            </div>
            <div class="collapse show " id="Fecha" aria-labelledby="Fecha-panel">
              <div class="cs-widget-data-list cs-filter">
                <ul class="cs-filter-list list-unstyled pr-3" style="height: 3rem;" data-simplebar
                  data-simplebar-auto-hide="false">
                  <li class="cs-filter-item">
                    <div class="position-relative mb-3">
                      <input class="form-control form-control-sm " type="date"
                        (change)="Filtro_eventos(3)" [(ngModel)]="filter_modo_fecha" placeholder="Search the material" [min]="_fechaStrMinima">
                      <i class="ci-search fs-sm position-absolute top-50 end-0 translate-middle-y me-3 zindex-5"></i>
                    </div>
                  </li>

                </ul>
              </div>
            </div>
          </div>
          <!-- Fecha -->
          <div class="card border-bottom">
            <div class="card-header pt-0 pb-3" id="Fecha-panel">
              <h6 class="accordion-heading">
                <a href="#Fecha" role="button" data-toggle="collapse" aria-expanded="true" aria-controls="Fecha">
                  Desde
                  <span class="accordion-indicator"></span>
                </a>
              </h6>
            </div>
            <div class="collapse show " id="Fecha" aria-labelledby="Fecha-panel">
              <div class="cs-widget-data-list cs-filter">
                <ul class="cs-filter-list list-unstyled pr-3" style="height: 3rem;" data-simplebar
                  data-simplebar-auto-hide="false">
                  <li class="cs-filter-item">
                    <div class="position-relative mb-3">
                      <select name="cars" id="cars" class="form-select" [(ngModel)]="filter_modo_hora" aria-label="Default select example"  (change)="Filtro_eventos(3)">
                        <option value="-1">Seleccionar</option>
                        <option value="09">09:00</option>
                        <option value="10">10:00</option>
                        <option value="11">11:00</option>
                        <option value="12">12:00</option>
                        <option value="13">13:00</option>
                        <option value="14">14:00</option>
                        <option value="15">15:00</option>
                        <option value="16">16:00</option>
                        <option value="17">17:00</option>
                        <option value="18">18:00</option>
                        <option value="19">19:00</option>
                        <option value="20">20:00</option>
                        <option value="21">21:00</option>
                        <option value="22">22:00</option>
                        <option value="23">23:00</option>
                        <option value="24">24:00</option>
                      </select>
                      <i class="ci-search fs-sm position-absolute top-50 end-0 translate-middle-y me-3 zindex-5"></i>
                    </div>
                  </li>

                </ul>
              </div>
            </div>
          </div>
          <!-- Ubicacion -->
          <div class="card ">
            <div class="card-header pt-0 pb-3" id="Ubicacion-panel">
              <h6 class="accordion-heading">
                <a href="#Ubicacion" role="button" data-toggle="collapse" aria-expanded="true"
                  aria-controls="Ubicacion">
                  Ubicación
                  <span class="accordion-indicator"></span>
                </a>
              </h6>
            </div>
            <div class="collapse show " id="Ubicacion" aria-labelledby="Ubicacion-panel">
              <div class="cs-widget-data-list cs-filter">
                <ul class="cs-filter-list list-unstyled pr-3" style="height: 12rem;" data-simplebar
                  data-simplebar-auto-hide="false">
                  <li class="filter-item" >
                    <div class="form-check">
                      <input type="radio" (change)="Filtro_eventos(4)"
                        name="groupModo" class="form-check-input" id="groupModo-0"
                        value="0" [(ngModel)]="filter_modo_ubicacion">
                      <label for="groupModo-00" class="form-check-label">
                        <span class="filter-item-text">Todos</span>
                      </label>
                    </div>
                  </li>
                  <li class="filter-item" *ngFor="let distrito of Distrito">
                    <div class="form-check">
                      <input type="radio" (change)="Filtro_eventos(4)"
                        name="groupModo" class="form-check-input" id="groupModo-{{distrito.codigo}}"
                        value="{{distrito.codigo}}" [(ngModel)]="filter_modo_ubicacion">
                      <label for="groupModo-{{distrito.codigo}}" class="form-check-label">
                        <span class="filter-item-text">{{distrito.nombre}}</span>
                      </label>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>


        </div>
      </div>
    </div>


    <!-- Product grid -->



    <div class="col">
      <div class="row" *ngIf="load_data">
        <div class="col-lg-12" style="text-align: center;">
          <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
            <span class="visually-hidden"></span>
          </div>
        </div>
      </div>
      <div *ngIf="!load_data" class="row row-cols-12 row-cols-sm-12 row-cols-md-12 row-cols-lg-12" data-filters-columns>


        <!-- Item -->
  
        <ng-container *ngIf="eventos.length>=1">
          <div class="course"
            *ngFor="let evento of eventos">
          
            <a class="ps-product__title" [routerLink]="['/show/'+evento._id+'/'+evento.evento[0]._id] ">
              <div class="course-date">

                <h2>{{ evento.FechaInicio | formatDateDia}} </h2>
                <h4>{{ evento.FechaInicio | FormatDateMes }}</h4>
              </div>
              <div class="course-info" id="evento">
                <img [src]="evento.evento[0].Imagenes[0].url" alt="Imágen x" class="card__img-top img-fluid"
                  style="border-radius: 0px;">
              </div>
            </a>
            <div class="course-progress">
              <div class="progress-container" style="z-index: 1000;">
                <app-heart [id_fecha]="evento._id" [pantalla]="2"  [id_evento]="evento.evento[0]._id" [user_data]="user_data"   [favoritos]="evento.activado"   ></app-heart>

              </div>
              <a class="ps-product__title" [routerLink]="['/show/'+evento._id+'/'+evento.evento[0]._id]"
                style="text-decoration: none;">
                <h6 class="evento_FechaHora">
                  {{ evento.FechaInicio | formatDateDia }} {{ evento.FechaInicio | FormatDateMes }}
                  {{evento.HoraInicio}} - {{evento.HoraFin}}</h6>
                <h3 class="mt-2 evento_TituloEvento">{{evento.evento[0].titulo}}</h3>
                <h5 class="mt-2 evento_SubTituloEvento"> {{evento.evento[0].NombreLocal}}</h5>
                <div class="card-price-event">
                  <div class="card__price_filtro">
                    <span class="card__price_filtro_desde">DESDE</span>

                    <span class="card-price">{{evento.precioxfechas[0].Precio | formatMoney}}</span>
                  </div>
                 <!--<div class="card-text">
                    Visto 0 <span class="fwb">veces</span>
                  </div>-->
                </div>
              </a>
            </div>

          </div>
        </ng-container>
        <ng-container *ngIf="eventos.length==0">
          <div class="col-lg-12  col-md-5">
            <h3 class="h6 mb-2 evento-no-result-title"><img src="../../../../assets/img/tickets_gray.png"></h3>
            <h3 class="h6 mb-2 evento-no-result-title">No encontramos eventos</h3>
            <h3 class="h6 mb-2 text-align text-center">Intenta cambiando los filtros de búsqueda</h3>
          </div>
        </ng-container>

        <!-- Item -->

      </div>

      <!-- Toolbar + pagination -->
      <div class="d-flex align-items-right pt-md-4">
        <!--  <div class="form-inline flex-nowrap  d-none mr-3 mr-xl-5 pt-1">
          <label for="sorting-bottom" class="font-weight-bold text-nowrap mr-2 pr-1 d-none d-md-block">Sort by</label>
          <select id="sorting-bottom" class="custom-select">
            <option>Popularity</option>
            <option>Low - Hight Price</option>
            <option>High - Low Price</option>
            <option>Average Rating</option>
            <option>A - Z Order</option>
            <option>Z - A Order</option>
          </select>
        </div>-->
        <!-- <div class="form-inline flex-nowrap d-none d-sm-flex mr-3 mr-xl-5 pt-1">
          <label for="pager-bottom" class="font-weight-bold text-nowrap mr-2 pr-1 d-none d-md-block">Show</label>
          <select id="pager-bottom" class="custom-select">
            <option>12</option>
            <option>24</option>
            <option>48</option>
            <option>72</option>
            <option>96</option>
          </select>
          <span class="font-size-sm text-muted text-nowrap ml-2 d-none d-md-block">products per page</span>
        </div>-->

        <div class="d-flex form-inline flex-nowrap d-none d-sm-flex mr-3 mr-xl-5 pt-1">
       <!--    <ngb-pagination *ngIf="eventos.length >= 1" style="margin-top: 10px;" [(page)]="page" [pageSize]="pageSize"
            [maxSize]="12" aria-label="Default pagination" [rotate]="true" [boundaryLinks]="true"
            [collectionSize]="eventos.length"></ngb-pagination>-->
        </div>

      </div>
    </div>
  </div>
</section>
<app-footer></app-footer>
